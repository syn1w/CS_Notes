# 一、逻辑和证明

## 1. 命题逻辑

### (1) 命题

**命题**是一个陈述语句(陈述事实)，它或真或假，但不能既真又假。  

使用字母来表示**命题变元**，习惯使用 $p, q, r, s, ...$  表示命题。如果一个命题是真命题，真值为真，用 $T$  表示；如果是假命题，真值为假，用 $F$ 表示。  

涉及命题的逻辑领域叫**命题演算**或**命题逻辑**。  

**复合命题**是由已知命题用逻辑运算符组合而来。  



> **定义一**  令 $p$ 为一个命题，则 $p$ 的否定记作 $\lnot p$(也可记作 $\bar p$)，读作非 $p$，指不是 $p$ 所指的情形。  

| $p$  | $\lnot p$ |
| :--: | :-------: |
| $T$  |    $F$    |
| $F$  |    $T$    |



> **定义二** 令 $p$ 和 $q$ 为命题，$p, q$ 的合取即命题 $p$ 且 $q$，记作 $p \land q$。当 $p$ 和 $q$ 均为真时，$p \land q$ 为真，否则为假。  

| $p$  | $q$  | $p \land q$ |
| :--: | :--: | :---------: |
| $T$  | $T$  |     $T$     |
| $T$  | $F$  |     $F$     |
| $F$  | $T$  |     $F$     |
| $F$  | $F$  |     $F$     |



> **定义三** 令 $p$ 和 $q$ 为命题，$p, q$ 的析取即命题 $p$ 或 $q$，记作 $p \lor q$ 。当 $p$ 和 $q$ 均为假时，$p \lor q$ 为假，否则为真。  

| $p$  | $q$  | $p \lor q$ |
| :--: | :--: | :--------: |
| $T$  | $T$  |    $T$     |
| $T$  | $F$  |    $T$     |
| $F$  | $T$  |    $T$     |
| $F$  | $F$  |    $F$     |



> **定义四** 令 $p$ 和 $q$ 为命题，$p, q$ 的异或，记作 $p \oplus q$  是：当 $p$ 和 $q$ 中恰好只有一个命题为真时为真，否则为假。  

| $p$  | $q$  | $p \oplus q$ |
| :--: | :--: | :----------: |
| $T$  | $T$  |     $F$      |
| $T$  | $F$  |     $F$      |
| $F$  | $T$  |     $F$      |
| $F$  | $F$  |     $F$      |



> **定义五** 令 $p$ 和 $q$ 为命题，条件语句 $p \to q$ 是命题“如果 $p$，则 $q$”，当 $p$ 为真且 $q$ 为假时，条件语句 $p \to q$ 为假，否则为真。在条件语句 $p \to q$ 中，$p$ 称为假设(条件)，$q$ 称为结论。  
>
> $p \to q$ 可以断定在条件 $p$ 成立的时候 $q$ 为真，条件语句也称为**蕴含**。

| $p$  | $q$  | $p \to q$ |
| :--: | :--: | :-------: |
| $T$  | $T$  |    $T$    |
| $T$  | $F$  |    $F$    |
| $F$  | $T$  |    $T$    |
| $F$  | $F$  |    $T$    |



**逆命题、反命题与逆否命题**  

原命题为 $p \to q$，命题 $q \to p$ 称为 $p \to q$ 的逆命题，命题 $\lnot p \to \lnot q$ 称为 $p \to q$ 的反命题，命题 $\lnot q \to p$ 称为 $p \to q$ 的逆否命题。  

逆否命题和原命题具有相同的真值，逆命题和反命题具有相同的真值。  



> **定义六** 令 $p$ 和 $q$ 为命题，双条件语句 $p \leftrightarrow q$ 是命题“$p$ 当且仅当 $q$”。当 $p$ 和 $q$ 拥有相同的真值时，双条件语句为真，否则为假。双条件语句也叫双向蕴含。  

| $p$  | $q$  | $p \leftrightarrow q$ |
| :--: | :--: | :-------------------: |
| $T$  | $T$  |          $T$          |
| $T$  | $F$  |          $F$          |
| $F$  | $T$  |          $F$          |
| $F$  | $F$  |          $T$          |



### (2) 逻辑运算符的优先级

|      运算符       | 优先级 |
| :---------------: | :----: |
|      $\lnot$      |  $1$   |
|      $\land$      |  $2$   |
|      $\lor$       |  $3$   |
|       $\to$       |  $4$   |
| $\leftrightarrow$ |  $5$   |



### (3) 逻辑运算和位运算

*位(bit)* 一词来自于*二进制数字(binary digit)*，1位可以表示真值。习惯上，用 1 表示真($T$)，用 0 表示假($F$)。如果一个变量的值为真或假时，则该变量为**布尔变量**。  



> **定义七**  *位串*是 0 位或多位的序列。位串的长度是其所含位的数目。
>
> 可以把两个长度相同的两个位串的相应位进行 OR、AND、XOR 操作，叫做位串的按位运算。  



## 2. 命题逻辑的应用

- 将语句翻译为命题变量和逻辑联结词组成的表达式
- 描述硬件系统或软件系统时，将自然语言翻译为逻辑表达式
- 逻辑联结词广泛用于大量信息搜索中，比如网页索引。叫做**布尔搜索**
- 用逻辑推理解决的谜题是**逻辑谜题**
- **逻辑电路**设计



## 3. 命题等价性

### (1) 逻辑等价式

> **定义一** 一个真值永远是真的命题称为永真式(tautology)，也称为重言式。一个真值永远为假的命题为矛盾式(contradiction)，既不是永真式又不是矛盾式的命题是可能式。  

> **定义二** 如果 $p \leftrightarrow q$ 为永真式，则命题 $p$ 和 $q$ 称为逻辑等价的。记作 $p \equiv q$ 或者 $p \Leftrightarrow q$ 。  

判断两个复合命题是否等价的方法之一是使用真值表  



### (2) 德·摩根律

$$\lnot (p \land q) \equiv \lnot p \lor \lnot q$$  

$$\lnot (p \lor q) \equiv \lnot p \land \lnot q$$  



### (3) 命题的可满足性

如果存在一个对其变元的真值赋值使命题为真，则该复合命题称为**可满足的**，否则是**不可满足的**。  

注意一个命题是不可满足的当且仅当它的否定对所有的变元的真赋值都是真的，也就是当且仅当它的否定是永真式。  

当找到一个特定的使得复合命题为真的真值赋值时，这样的一个赋值称为这个特定的可满足性问题的一个**解**。  



### (4) 可满足性的应用

在机器人学、软件测试、计算机辅助设计、机器视觉、继承电路设计、计算机网络等等都可以使用命题可满足性来建立模型。  



## 4. 谓词和量词

### (1) 谓词(Predicate)

谓词表明语句主语是否满足一个性质，比如 `x > 3`，其中 `x` 是语句的主语，谓词 `> 3` 表明主语是否满足某个特性。  

可以使用 `P(x)` 来表示 `x > 3`，其中 `P` 表示谓词 `> 3`，而 `x` 是变量。一旦给 `x` 赋一个值，语句 `P(x)` 就称为命题并具有真值。  

形式为 $P(x_1,\;x_2,\;\dots,\;x_n)$  的语句是命题函数 $P$ 在 n 元组 $(x_1,\;x_2,\;\dots,\;x_n)$ 的值，$P$ 也称为 **n 元谓词**或 n 位谓词。  



### (2) 量词

在自然语言中，所有、某些、许多、没有等等量词都可以用在**量化**上。量化可以从命题函数生成一个命题。  

这里集中讨论两类量化：**全称量化**和**存在量化**。  

量化表示在一定范围内的个体对于某个谓词成立，这个范围被叫做**论域**(domain of discourse)或**全体域**(universe of discourse)，简称为**域**(domain)。  

> **定义一** $P(x)$ 的全称量化是语句 ”$P(x)$ 对 $x$ 在其论域的所有值为真“
>
> 符号 $\forall xP(x)$ 表示 $P(x)$ 的全称量化，其中 $\forall$ 称为全称量词，命题 $\forall xP(x)$ 读作“对于所有的 $x$，$P(x)$“

> **定义二** $P(x)$ 的存在量词是命题”论域中存在一个 $x$ 满足 $P(x)$“
>
> 符号 $\exist xP(x)$ 表示 $P(x)$ 的存在量化。  

唯一性量词：存在唯一一个 $x$ 使得 $P(x)$ 为真，用符号 $\exist !$ 或 $\exist_1$ 表示。  



量词 $\forall$ 和 $\exist$ 的优先级比命题演算中所有的逻辑符有更高的优先级。比如 $\forall xP(x) \lor Q(x)$ 表示 $(\forall xP(x)) \lor Q(x)$。  

<br>

**变量绑定 ** 

当量词作用于变量 $x$ 时，我们说此变量的这次出现为**约束的**；如果没有被量词约束或设置为等于某一特定值，则这个变量的出现称为是**自由的**。命题函数中的所有变量出现必须是约束的或者是被设置为某个的值，才能把它转变为一个命题。可以通过采用一组全称量词、存在量词和赋值进行实现。  

逻辑表达式中的一个量词作用到的部分叫做这个量词的作用域。  

例如 $\exist x (x + y = 1)$，变量 $x$ 受存在量词约束，$y$ 是自由的。$\exist x(P(x) \land Q(x)) \lor \forall xR(x)$ 中，所有变量都是约束的，而且 



**涉及量词的逻辑等价式**  

> **定义三** 涉及谓词和量词的语句是逻辑等价的当且仅当无论用什么谓词代入这些语句，也无论这些命题函数里的变量指定什么论域，它们都有相同的真值。用 $S \equiv T$ 表示涉及谓词和量词的两个语句 $S$ 和 $T$ 是逻辑等价的。

<br>

**量化表达式的否定**  

量词否定的规则称为**量词的德·摩根律**。  

|          否定           |        等价语句         |        合适为真         |        何时为假         |
| :---------------------: | :---------------------: | :---------------------: | :---------------------: |
|  $\lnot\,\exist xP(x)$  | $\forall x \lnot P(x)$  | 对每个 $x$，$P(x)$ 为假 |  存在 $x$，$P(x)$ 为真  |
| $\lnot \forall x\,P(x)$ | $\exist x\,\lnot\,P(x)$ | 存在 $x$ 使 $P(x)$ 为假 | 对每个 $x$，$P(x)$ 为真 |



## 5. 嵌套量词

**嵌套量词**是一个量词出现在另一个量词的作用域中。比如 $\forall\,x \exist\,y (x + y = 0)$   

多重量化中，量词的顺序很重要，不同的顺序将表示不同的含义，除非全部是全称量词或者存在量词。  

$\forall x\; \exist y \; P(x, y)$ 指对每个 $x$，都存在一个 $y$ 使得 $P(x, y)$ 为真  

$\exist x\;\forall y \; P(x, y)$ 指存在一个 $x$，使得 $P(x, y)$ 对所有的 $y$ 均为真  

<br>

**嵌套量词的否定**  

带嵌套量词语句的否定可以通过连续地应用单个量词地否定规则得到。  

例：求表达式语句 $\forall x \; \exist y\;(xy = 1)$ 的否定  

$$ \lnot \forall x \;\exist y \; (xy = 1)  = \exist x\;\lnot \exist y\;(xy=1) \\ = \exist x\;\forall y\;\lnot(xy=1) \\  = \exist x\; \forall y\; (xy\ne 1) $$  

<br>



## 6. 推理规则

数学中的证明是建立在数学命题真实性的有效论证。所谓的**论证**(argument)，是指一连串的命题并以结论为最后的命题，所谓**有效性**(valid)，是指结论或论证的最后一个命题必须根据论证过程前面的命题或**前提**(premise)的真实性推出。  

错误的错误推理，称为**谬误**(fallacy)，直接导致无效论证。  



### (1) 命题逻辑的有效论证

比如”如果你有一个当前密码，那么你就可以登录到当前网络“，”你有一个当前密码“，所以”你可以登录到网络“。前面的论证使用了三段论形式，论证形式化可以表示为 $p \to q, \;p \; \therefore q$，其中 $p$ 代表 ”你有一个当前密码“，$q$ 代表”你可以登录到网络“。  

> **定义一** 命题逻辑中的一个论证是一连串的命题，除了论证中最后一个命题外都叫做前提，最后的命题叫做结论。一个论证是有效的，如果它的所有前提为真蕴含着结论为真。  

从有效论证形式的定义可知，当 $(p_1 \land p_2 \land \dots \land p_n) \to q$ 是永真式时，带有前提 $p_1, p2, \dots, p_n$ 以及结论 $q$ 的论证形式都是有效的  

<br>

### (2) 命题逻辑的推理规则

|  推理规则  |                        永真式                        |
| :--------: | :--------------------------------------------------: |
|  假言推理  |             $(p \land (p \to q)) \to q$              |
|   取拒式   |        $(\lnot q\land(p \to q)) \to \lnot p$         |
| 假言三段论 |     $((p \to q) \land (q \to r)) \to (p \to r)$      |
| 析取三段论 |          $((p \lor q) \land \lnot p) \to q$          |
|   附加律   |                  $p \to (p \lor q)$                  |
|   化简律   |                 $(p \land q) \to p$                  |
|   合取律   |          $((p) \land (q)) \to (p \land q)$           |
|   消解律   | $((p \lor q) \land (\lnot p \lor r)) \to (q \lor r)$ |



### (3) 量化命题的推理规则

**全称实例**是从给定前提 $\forall x P(x)$ 得出 $P(c)$ 为真的推理规则，其中 $c$ 是论域中的一个特定成员。  

**全称引入**是从论域中的所有元素 $c$ 都有 $P(c)$ 为真的前提推出 $\forall x P(x)$ 为真的推理规则。  

**存在实例**是从给定前提 $\exist xP(x)$ 得出在论域中存在一个元素 $c$ 使得 $P(c)$ 为真。  

**存在引入**是从已知有一个特定的 $c$ 使得 $P(c)$ 为真时得出 $\exist xP(x)$ 为真的推理规则。  



## 7. 证明导论

### (1) 概念

**定理(theorem)** 是一个能够被证明是真的语句。数学描述中，定理一词被专指那些被认为有些重要的语句。不太重要的定理有时候被称为**命题**、**事实(fact)**或**结论(result)**。  

用一个**证明(proof)**来展示一个定理是真的。证明就是建立定理真实性的一个有效论证。  

证明中可以用到公理(假设)，**公理(axiom)**(或**假设(postulate)**)是可以假定为真的语句。  

**引理(lemma)**是不太重要但有助于证明其他结论的定理。  

**推论(corollary)**是从一个已经被证明的定理可以直接建立起来的一个定理。  

**猜想(conjecture)**是一个被提出认为是真的命题，通常是基于部分证据、启发式论证或直觉。当猜想被证明之后，猜想就变成了定理。  



### (2) 证明定理的方法

- 直接证明法
- 反证法：证明 $p \to q$ 可以通过它的逆否命题 $\lnot q \to \lnot p$ 来证明
- 归谬证明法：找到一个矛盾式 $q$ 使得 $\lnot p \to q$ 为真，则 $\lnot p$ 为假，即 $p$ 为真。
- 穷举证明法
- 分情况证明法
- ...





